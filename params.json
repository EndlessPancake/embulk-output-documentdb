{
  "name": "embulk-output-documentdb",
  "tagline": "Azure DocumentDB output plugin for Embulk",
  "body": "# Azure DocumentDB output plugin for Embulk\r\n\r\nembulk-output-documentdb is an embulk output plugin that dumps records to Azure DocumentDB. Embulk is a open-source bulk data loader that helps data transfer between various databases, storages, file formats, and cloud services. See [Embulk documentation](http://www.embulk.org/docs/) for details.\r\n\r\n## Overview\r\n\r\n* **Plugin type**: output\r\n* **Load all or nothing**: no\r\n* **Resume supported**: no\r\n* **Cleanup supported**: yes\r\n\r\n## Installation\r\n\r\n    $ gem install embulk-output-documentdb\r\n\r\n## Configuration\r\n\r\n### DocumentDB\r\n\r\nTo use Microsoft Azure DocumentDB, you must create a DocumentDB database account using either the Azure portal, Azure Resource Manager templates, or Azure command-line interface (CLI). In addition, you must have a database and a collection to which embulk-output-documentdb writes event-stream out. Here are instructions:\r\n\r\n * Create a DocumentDB database account using [the Azure portal](https://azure.microsoft.com/en-us/documentation/articles/documentdb-create-account/), or [Azure Resource Manager templates and Azure CLI](https://azure.microsoft.com/en-us/documentation/articles/documentdb-automation-resource-manager-cli/)\r\n * [How to create a database for DocumentDB](https://azure.microsoft.com/en-us/documentation/articles/documentdb-create-database/)\r\n * [Create a DocumentDB collection](https://azure.microsoft.com/en-us/documentation/articles/documentdb-create-collection/)\r\n * [Partitioning and scaling in Azure DocumentDB](https://azure.microsoft.com/en-us/documentation/articles/documentdb-partition-data/)\r\n\r\n### Embulk Configuration (config.yml)\r\n\r\n```yaml\r\nout:\r\n  type: documentdb\r\n  docdb_endpoint: https://yoichikademo0.documents.azure.com:443/\r\n  docdb_account_key: EMwUa3EzsAtJ1qYfzxo9nQ3KudofsXNm3xLh1SLffKkUHMFl80OZRZIVu4lxdKRKxkgVAj0c2mv9BZSyMN7tdg==\r\n  docdb_database: myembulkdb\r\n  docdb_collection: myembulkcoll\r\n  auto_create_database: true\r\n  auto_create_collection: true\r\n  partitioned_collection: false\r\n  key_column: id\r\n```\r\n\r\n * **docdb\\_endpoint (required)** - Azure DocumentDB Account endpoint URI\r\n * **docdb\\_account\\_key (required)** - Azure DocumentDB Account key (master key). You must NOT set a read-only key\r\n * **docdb\\_database (required)** - DocumentDB database nameb\r\n * **docdb\\_collection (required)** - DocumentDB collection name\r\n * **auto\\_create\\_database (optional)** - Default:true. By default, DocumentDB database named **docdb\\_database** will be automatically created if it does not exist\r\n * **auto\\_create\\_collection (optional)** - Default:true. By default, DocumentDB collection named **docdb\\_collection** will be automatically created if it does not exist\r\n * **partitioned\\_collection (optional)** - Default:false. Set true if you want to create and/or store records to partitioned collection. Set false for single-partition collection\r\n * **partition\\_key (optional)** - Default:nil. Partition key must be specified for paritioned collection (partitioned\\_collection set to be true)\r\n * **offer\\_throughput (optional)** - Default:10100. Throughput for the collection expressed in units of 100 request units per second. This is only effective when you newly create a partitioned collection (ie. Both auto\\_create\\_collection and partitioned\\_collection are set to be true )\r\n * **key\\_column (required)** - Column name to be inserted to DocumentDB as primary key. If it's not named \"id\", the column name is converted into \"id\" (string).\r\n\r\n## Configuration examples\r\n\r\nHere are two types of the plugin configurations example - single-parition collection and partitioned collection.\r\n\r\n### (1) Single-Partition Collection Case\r\n\r\n```yaml\r\nout:\r\n  type: documentdb\r\n  docdb_endpoint: https://yoichikademo0.documents.azure.com:443/\r\n  docdb_account_key: EMwUa3EzsAtJ1qYfzxo9nQ3KudofsXNm3xLh1SLffKkUHMFl80OZRZIVu4lxdKRKxkgVAj0c2mv9BZSyMN7tdg==\r\n  docdb_database: myembulkdb\r\n  docdb_collection: myembulkcoll\r\n  auto_create_database: true\r\n  auto_create_collection: true\r\n  partitioned_collection: false\r\n  key_column: id\r\n```\r\n\r\n### (2) Partitioned Collection Case\r\n\r\n```yaml\r\n  type: documentdb\r\n  docdb_endpoint: https://yoichikademo0.documents.azure.com:443/\r\n  docdb_account_key: EMwUa3EzsAtJ1qYfzxo9nQ3KudofsXNm3xLh1SLffKkUHMFl80OZRZIVu4lxdKRKxkgVAj0c2mv9BZSyMN7tdg==\r\n  docdb_database: myembulkdb\r\n  docdb_collection: myembulkcoll\r\n  auto_create_database: true\r\n  auto_create_collection: true\r\n  partitioned_collection: true\r\n  partition_key: account\r\n  offer_throughput: 10100\r\n  key_column: id\r\n```\r\n\r\n## Build, Install, and Run\r\n\r\n```\r\n$ rake\r\n\r\n$ embulk gem install pkg/embulk-output-documentdb-0.1.0.gem\r\n\r\n$ embulk preview config.yml\r\n\r\n$ embulk run config.yml\r\n\r\n```\r\n\r\n## Change log\r\n* [Changelog](ChangeLog.md)\r\n\r\n## Links\r\n\r\n* http://yokawasa.github.io/embulk-output-documentdb\r\n* https://rubygems.org/gems/embulk-output-documentdb\r\n* http://unofficialism.info/posts/embulk-plugins-for-microsoft-azure-services/\r\n\r\n## Contributing\r\n\r\nBug reports and pull requests are welcome on GitHub at https://github.com/yokawasa/embulk-output-documentdb.\r\n\r\n## Copyright\r\n\r\n<table>\r\n  <tr>\r\n    <td>Copyright</td><td>Copyright (c) 2016- Yoichi Kawasaki</td>\r\n  </tr>\r\n  <tr>\r\n    <td>License</td><td>MIT</td>\r\n  </tr>\r\n</table>\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}